# debian-12.yaml
# Start with: limactl start ./debian-12.yaml

images:
- location: "https://cloud.debian.org/images/cloud/bookworm/latest/debian-12-genericcloud-amd64.qcow2"
  arch: "x86_64"
- location: "https://cloud.debian.org/images/cloud/bookworm/latest/debian-12-genericcloud-arm64.qcow2"
  arch: "aarch64"

mounts:
- location: "~"
  writable: true

containerd:
  system: false
  user: false

provision:
- mode: system
  script: |
    #!/bin/bash
    set -eux -o pipefail
    export DEBIAN_FRONTEND=noninteractive

    # Basic system setup
    apt update -y
    apt upgrade -y
    apt install -y curl wget sudo ca-certificates lsb-release gnupg vim git

probes: []

hostResolver: {}

#ports: []
ports:
- local: 8080
  guest: 80
- local: 2525
  guest: 25

message: |
  ===================
  Debian 12 VM ready.
  ---
  To enter the vm:
    limactl shell {{.Name}}
  ---
  ===================

